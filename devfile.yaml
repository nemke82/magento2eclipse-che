apiVersion: 1.0.0
metadata:
  generateName: magento2-smartweb-
projects:
  - name: magento2che
    source:
      type: git
      location: 'https://github.com/nemke82/magento2eclipse-che.git'
components:
  - type: chePlugin
    id: bmewburn/vscode-intelephense-client/latest
  - type: chePlugin
    id: felixfbecker/php-debug/latest
  - type: dockerimage
    alias: magento2che
    image: 'quay.io/nemke82/magento2eclipse-che:latest'
    memoryLimit: 2048Mi
    endpoints:
      - name: 8080-tcp
        port: 8080
    mountSources: true
    volumes:
      - name: composer
        containerPath: /home/magento2che/.composer

commands:
  - name: Start Supervisor
    actions:
      - type: exec
        component: magento2che
        command: /etc/init.d/supervisor start
